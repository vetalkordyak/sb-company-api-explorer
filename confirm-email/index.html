<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SimplyBook Company Creation API Documentation</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js" integrity="sha512-Tj35Q81ghoSFK84ee0H7qn2IjAyKwZQ9oYJDjtBmKOmlSz3MUqHrXxoMxIR9GrXzFakEiSV/VMrWwyAp45Bqjw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<!--    <script src="https://www.google.com/recaptcha/api.js"></script>-->
    <script src="https://www.google.com/recaptcha/api.js?onload=onloadRecaptchaCallback&render=explicit"
            async defer>
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" integrity="sha512-hasIneQUHlh06VNBe7f6ZcHmeRTLIaQWFd43YriJ0UND19bvYRauxthDg8E4eVNPm9bRUhr5JGeqH7FRFXQu5g==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="script.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .endpoint {
            margin-bottom: 30px;
        }
        textarea {
            width: 100%;
            height: 100px;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            white-space: pre-wrap;
        }
    </style>
</head>
<body class="bg-body-tertiary">
<div class="container">
    <main>

        <div class="col-12">
            <h1>SimplyBook Company Creation API Documentation</h1>
        </div>

        <div class="col-12">
            <label for="host" class="form-label">Host: </label>
            <div class="input-group">
                <input type="text" id="host" class="form-control" value="" placeholder="https://user-api-v2.simplybook.me">
            </div>
        </div>

        <div class="mt-3 col-12">
            <label for="apiKey" class="form-label">API Key: </label>
            <div class="input-group">
                <input type="text" id="apiKey" class="form-control" value="" placeholder="api key provided by Simplybook">
            </div>
            <hr class="my-4">
        </div>

        <div class="mt-3 col-12">
            <div class="endpoint" id="get-auth-token">
                <h2>Get Auth Token</h2>

                <p>
                    This API endpoint is used to generate an authentication token and refresh token for accessing Simplybook API endpoints. The token is valid for a specific period of time and can be used to make authenticated API requests.
                </p>

                <p><strong>POST</strong> <code>/simplybook/auth/token</code></p>
                <p>
                    <strong>HEADER</strong>
                    <ul>
                        <li><b>Content-Type:</b> application/json</li>
                    </ul>
                </p>

                <p><strong>BODY</strong></p>
                <textarea id="getAuthTokenRequest" class="form-control">{
    "api_key": "{{api_key}}"
}</textarea><br>

                <button onclick="callApi('getAuthToken')" class="w-100 btn btn-primary">Call API</button>

                <pre id="getAuthTokenResponse" class="mt-3"><code class="language-json"></code></pre>
            </div>
            <hr class="my-4">
        </div>


        <div class="mt-3 col-12">
            <div class="endpoint" id="refresh-auth-token">
                <h2>Get Auth Token by Refresh Token</h2>

                <p>
                    This API endpoint is used to refresh an existing authentication token. A refresh token is a long-lived token that can be used to obtain a new access token when the current one expires.
                </p>

                <p><strong>POST</strong> <code>/simplybook/auth/refresh-token</code></p>
                <p>
                    <strong>HEADER</strong>
                    <ul>
                        <li><b>Content-Type:</b> application/json</li>
                    </ul>
                </p>

                <textarea id="refreshAuthTokenRequest" class="form-control">{
    "refreshToken": "{{refresh_token}}"
}</textarea><br>

                <button onclick="callApi('refreshAuthToken')" class="w-100 btn btn-primary">Call API</button>

                <pre id="refreshAuthTokenResponse" class="mt-3"><code class="language-json"></code></pre>
            </div>
            <hr class="my-4">
        </div>


        <div class="mt-3 col-12">
            <div class="endpoint" id="register-company">
                <h2>Register a Company</h2>

                <p>
                    This API endpoint is used to create a new company in Simplybook. The company will be associated with the user who makes the request and will have the specified details.
                    <br><br>
                    <b>categories</b><span style="color:red">*</span> is an array or int value of the category ID of the company. The category ID is used to group companies by type. The following category IDs are available:
                    <table class="table">
                        <thead>
                        <tr>
                            <th>Category ID</th>
                            <th>Category Name</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>3</td>
                            <td>Beauty and wellness</td>
                        </tr>
                        <tr>
                            <td>43</td>
                            <td>Sport and fitness</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>Personal meetings and services</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>Medical</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>Events and entertainment</td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>Education</td>
                        </tr>
                        <tr>
                            <td>75</td>
                            <td>Retailers</td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td>Officials</td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td>Other category</td>
                        </tr>
                        </tbody>
                    </table>

                    <br>
                    <b>callback_url<span style="color:red">*</span></b>: This is the URL where the company creation status will be sent. The status will be sent as a POST request with the following parameters:

                    <ul>
                        <li><b>success:</b> true if the company was created successfully, false otherwise</li>
                        <li><b>company_id:</b> The ID of the company that was created</li>
                        <li><b>company_login:</b> The login of the company that was created</li>
                        <li><b>error:</b> object containing the error details if the company creation failed</li>
                        <li><b>error[message]</b> The error message if the company creation failed</li>
                    </ul>
                    <br>

                    <b>lang<span style="color:red">*</span></b> is the language of the company. Allowed values are:<br>
                    <ul>
                        <!-- 'en', 'zh', 'fr', 'cn', 'es', 'ko', 'de', 'ja', 'ru', 'pt', 'br', 'it', 'nl', 'uk' -->
                        <li><b>en</b> - English</li>
                        <li><b>zh</b> - Chinese</li>
                        <li><b>fr</b> - French</li>
                        <li><b>cn</b> - Chinese (Simplified)</li>
                        <li><b>es</b> - Spanish</li>
                        <li><b>ko</b> - Korean</li>
                        <li><b>de</b> - German</li>
                        <li><b>ja</b> - Japanese</li>
                        <li><b>ru</b> - Russian</li>
                        <li><b>pt</b> - Portuguese</li>
                        <li><b>br</b> - Portuguese (Brazil)</li>
                        <li><b>it</b> - Italian</li>
                        <li><b>nl</b> - Dutch</li>
                        <li><b>uk</b> - Ukrainian</li>
                    </ul>
                    <br>
                    <b>company_login<span style="color:red">*</span></b> is the login of the company. It`s unique and will be used to access the company's booking page and widget.<br>
                    <b>name<span style="color:red">*</span></b> is the name of the company. This will be displayed on the company's booking page and in the widget.<br>
                    <b>email<span style="color:red">*</span></b> are the email address of the company and admin user. The admin user will have full access to the company's settings and resources.<br>
                    <b>phone<span style="color:red">*</span></b> is the phone number of the company. Please note that the phone number should be in the international format (e.g. +1234567890).<br>
                    <b>country_id<span style="color:red">*</span></b> is the ISO 3166-1 alpha-2 country code of the company's location.<br>
                    <b>description<span style="color:red">*</span></b> is the description of the company. This will be displayed on the company's booking page.<br>
                    <b>city<span style="color:red">*</span></b> is the city where the company is located.<br>
                    <b>address1<span style="color:red">*</span></b> is the address of the company.<br>
                    <b>zip</b> is the ZIP code of the company's location.<br>
                    <b>lat<span style="color:red">*</span></b> and <b>lng<span style="color:red">*</span></b> are the latitude and longitude coordinates of the company's location.<br>
                    <b>timezone<span style="color:red">*</span></b> is the timezone of the company. This will be used to display the correct time in the booking page and widget.<br>
                    <b>password<span style="color:red">*</span></b> and <b>retype_password<span style="color:red">*</span></b> are the password and confirmation password for the admin user.<br>
                    <b>widget_notification_url</b> is the URL where the notification URLs will come to in emails (for cancel booking, edit bookings, etc).<br>

                    <br>
                    <small>Required fields are marked with <span style="color:red">*</span></small>
                </p>

                <p><strong>POST</strong> <code>/simplybook/company</code></p>

                <p>
                    <strong>HEADER</strong>
                    <ul>
                        <li><b>Content-Type:</b> application/json</li>
                        <li><b>X-Token:</b> {{token}}</li>
                    </ul>
                </p>

                <textarea id="registerCompanyRequest" class="form-control" style="min-height: 480px">{
    "company_login": "testregcompany",
    "email": "simplybook@gmail.com",
    "name": "Company Name",
    "description": "some description",
    "phone": "123123123",
    "city": "Kyiv",
    "address1": "Khreshchatyk Street 1",
    "zip": "12345",
    "lat": "50.4501",
    "lng": "30.5234",
    "timezone": "Europe/Kyiv",
    "country_id": "UA",
    "password": "123123",
    "retype_password": "123123",
    "categories": ["6"],
    "lang" : "en",
    "callback_url": "https://webhook.site/7e3c8b69-8956-44da-bd23-de6da6e063cc"
}</textarea><br>

                <button onclick="callApi('registerCompany')" class="w-100 btn btn-primary">Call API</button>

                <pre id="registerCompanyResponse" class="mt-3"><code class="language-json"></code></pre>
            </div>



            <div class="mt-3 col-12">
                <div class="endpoint" id="confirm-company">
                    <h2>Confirm Company Registration</h2>

                    <p>
                        This API endpoint is used to confirm the registration of a company. The company will be created in Simplybook and the user will receive a confirmation email with the login details.
                    </p>

                    <br><br>
                    <b>company_login<span style="color:red">*</span></b> is the login of the company from the registration request.<br>
                    <b>confirmation_code<span style="color:red">*</span></b> is the confirmation code sent to the user's email.<br>
                    <b>recaptcha<span style="color:red">*</span></b> is the reCAPTCHA token generated by the reCAPTCHA widget.<br>

                    To get the reCAPTCHA token, you need to add the reCAPTCHA widget to your page.<br><br>

                    <pre>
&lt;script src=&quot;https://www.google.com/recaptcha/api.js?onload=onloadRecaptchaCallback&amp;render=explicit&quot; async defer&gt; &lt;/script&gt;

&lt;div id=&quot;recaptcha_container&quot;&gt;&lt;/div&gt;

&lt;script&gt;
    function onloadRecaptchaCallback() {
        grecaptcha.render('recaptcha_container', {
            'sitekey': 'site_key_received_from_company_creation_response',
            'callback': function (token) {
                console.log(token); //here is your token
            }
        });
    }
&lt;/script&gt;
                    </pre>

                    <p><strong>POST</strong> <code>/simplybook/company/confirm</code></p>
                    <p>
                        <strong>HEADER</strong>
                    <ul>
                        <li><b>Content-Type:</b> application/json</li>
                    </ul>


                    <div id="recaptcha_container"></div>

                    <textarea id="confirmCompanyRequest" class="form-control" style="min-height: 150px;">{
    "company_login": "{{company_login}}",
    "confirmation_code": "1111111",
    "recaptcha": "{{recaptcha_token}}"
}</textarea><br>

                    <button onclick="callApi('confirmCompany')" class="w-100 btn btn-primary">Call API</button>

                    <pre id="confirmCompanyResponse" class="mt-3"><code class="language-json"></code></pre>
                </div>
                <hr class="my-4">
            </div>


        </div>

    </main>
</div>
</body>
</html>
